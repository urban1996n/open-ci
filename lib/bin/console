#!/usr/bin/env php
<?php

if (!is_file(dirname(__DIR__).'/vendor/autoload_runtime.php')) {
    throw new LogicException('Symfony Runtime is missing. Try running "composer require symfony/runtime".');
}

$payload = [
    "iss" => $app_id,
    "iat" => time(),
    "exp" => time() + (30 * 24 * 60 * 60) // Token waÅ¼ny przez 30 dni
];

$jwt = \Firebase\JWT\JWT::encode($payload, $private_key, 'RS256');

echo $jwt;

require_once dirname(__DIR__).'/vendor/autoload_runtime.php';

return function (): void {
    (new Runtime())->buildAndRun();
};

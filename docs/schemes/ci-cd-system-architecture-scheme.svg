<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="1240px" preserveAspectRatio="none" style="width:5266px;height:1240px;background:#FFFFFF;" version="1.1" viewBox="0 0 5266 1240" width="5266px" zoomAndPan="magnify"><defs/><g><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="250" x="2501" y="23.5352">CI/CD system architecture scheme</text><!--MD5=[efd6e210270e923dad7eda0ed7d385bc]
cluster HttpPipelineTriggers--><g id="cluster_HttpPipelineTriggers"><rect fill="none" height="106" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:1.0;" width="840" x="7" y="98.3983"/><path d="M182,98.3983 L182,107.8866 L172,117.8866 L7,117.8866 " fill="none" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="165" x="10" y="112.9334">HTTP Pipeline triggers</text></g><!--MD5=[0f6c97b13db233effb71a707d20f382f]
cluster CiCDSystem--><g id="cluster_CiCDSystem"><rect fill="none" height="743" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:1.0;" width="4092" x="934" y="170.3983"/><path d="M1045,170.3983 L1045,179.8866 L1035,189.8866 L934,189.8866 " fill="none" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="101" x="937" y="184.9334">CI/CD System</text></g><!--MD5=[a552c2f8ef7406aef74bf8cd669936c5]
cluster TriggerListener--><g id="cluster_TriggerListener"><rect fill="none" height="191" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:1.0;" width="553" x="4449" y="261.3983"/><rect fill="none" height="10" style="stroke:#181818;stroke-width:1.0;" width="15" x="4982" y="266.3983"/><rect fill="none" height="2" style="stroke:#181818;stroke-width:1.0;" width="4" x="4980" y="268.3983"/><rect fill="none" height="2" style="stroke:#181818;stroke-width:1.0;" width="4" x="4980" y="272.3983"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="188" x="4631.5" y="287.9334">Pipeline triggers listeners</text></g><!--MD5=[f5c8f91353502898e521441cc08645b0]
cluster HttpTriggerMessenger--><g id="cluster_HttpTriggerMessenger"><rect fill="none" height="108" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:1.0;" width="201" x="4769" y="312.3983"/><rect fill="none" height="10" style="stroke:#181818;stroke-width:1.0;" width="15" x="4950" y="317.3983"/><rect fill="none" height="2" style="stroke:#181818;stroke-width:1.0;" width="4" x="4948" y="319.3983"/><rect fill="none" height="2" style="stroke:#181818;stroke-width:1.0;" width="4" x="4948" y="323.3983"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="162" x="4788.5" y="338.9334">HttpTriggerMessenger</text></g><!--MD5=[ed5b7c4d69918fcccc93df857d842390]
cluster RunnersRegistry--><g id="cluster_RunnersRegistry"><rect fill="none" height="397" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:1.0;" width="1273" x="3152" y="270.3983"/><rect fill="none" height="10" style="stroke:#181818;stroke-width:1.0;" width="15" x="4405" y="275.3983"/><rect fill="none" height="2" style="stroke:#181818;stroke-width:1.0;" width="4" x="4403" y="277.3983"/><rect fill="none" height="2" style="stroke:#181818;stroke-width:1.0;" width="4" x="4403" y="281.3983"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="120" x="3728.5" y="296.9334">Runners registry</text></g><!--MD5=[c399e2afbdedcc007ab92bf2fd1973cd]
cluster RunnerConsumer--><g id="cluster_RunnerConsumer"><rect fill="none" height="106" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:1.0;" width="176" x="4225" y="313.3983"/><rect fill="none" height="10" style="stroke:#181818;stroke-width:1.0;" width="15" x="4381" y="318.3983"/><rect fill="none" height="2" style="stroke:#181818;stroke-width:1.0;" width="4" x="4379" y="320.3983"/><rect fill="none" height="2" style="stroke:#181818;stroke-width:1.0;" width="4" x="4379" y="324.3983"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="103" x="4261.5" y="339.9334">Runner broker</text></g><!--MD5=[86d08c92cc7db9a20924e6b1da634789]
cluster RunnerProducer--><g id="cluster_RunnerProducer"><rect fill="none" height="92" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:1.0;" width="164" x="4037" y="320.3983"/><rect fill="none" height="10" style="stroke:#181818;stroke-width:1.0;" width="15" x="4181" y="325.3983"/><rect fill="none" height="2" style="stroke:#181818;stroke-width:1.0;" width="4" x="4179" y="327.3983"/><rect fill="none" height="2" style="stroke:#181818;stroke-width:1.0;" width="4" x="4179" y="331.3983"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="134" x="4052" y="346.9334">Runner messenger</text></g><!--MD5=[372666c4b68e5e15ea440016c9e93fe4]
cluster RunnersManager--><g id="cluster_RunnersManager"><rect fill="none" height="330" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:1.0;" width="504" x="3509" y="313.3983"/><rect fill="none" height="10" style="stroke:#181818;stroke-width:1.0;" width="15" x="3993" y="318.3983"/><rect fill="none" height="2" style="stroke:#181818;stroke-width:1.0;" width="4" x="3991" y="320.3983"/><rect fill="none" height="2" style="stroke:#181818;stroke-width:1.0;" width="4" x="3991" y="324.3983"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="126" x="3698" y="339.9334">Runners manager</text></g><!--MD5=[488e1bc4f26e2d0acc79bad8fefeb1c5]
cluster Runner--><g id="cluster_Runner"><rect fill="none" height="92" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:1.0;" width="128" x="3357" y="320.3983"/><rect fill="none" height="10" style="stroke:#181818;stroke-width:1.0;" width="15" x="3465" y="325.3983"/><rect fill="none" height="2" style="stroke:#181818;stroke-width:1.0;" width="4" x="3463" y="327.3983"/><rect fill="none" height="2" style="stroke:#181818;stroke-width:1.0;" width="4" x="3463" y="331.3983"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="51" x="3395.5" y="346.9334">Runner</text></g><!--MD5=[23d7ac9e855c5a27e25fd445de143efc]
cluster JobsRegistry--><g id="cluster_JobsRegistry"><rect fill="none" height="381" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:1.0;" width="1601" x="1254" y="501.3983"/><rect fill="none" height="10" style="stroke:#181818;stroke-width:1.0;" width="15" x="2835" y="506.3983"/><rect fill="none" height="2" style="stroke:#181818;stroke-width:1.0;" width="4" x="2833" y="508.3983"/><rect fill="none" height="2" style="stroke:#181818;stroke-width:1.0;" width="4" x="2833" y="512.3983"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="93" x="2008" y="527.9334">Jobs registry</text></g><!--MD5=[f87a5635076ba85f199b264fd5b11c28]
cluster JobConsumer--><g id="cluster_JobConsumer"><rect fill="none" height="106" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:1.0;" width="400" x="2431" y="544.3983"/><rect fill="none" height="10" style="stroke:#181818;stroke-width:1.0;" width="15" x="2811" y="549.3983"/><rect fill="none" height="2" style="stroke:#181818;stroke-width:1.0;" width="4" x="2809" y="551.3983"/><rect fill="none" height="2" style="stroke:#181818;stroke-width:1.0;" width="4" x="2809" y="555.3983"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="84" x="2589" y="570.9334">Jobs broker</text></g><!--MD5=[34e029b80ddd11f070fe15e144122cd7]
cluster JobProducer--><g id="cluster_JobProducer"><rect fill="none" height="92" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:1.0;" width="306" x="2101" y="551.3983"/><rect fill="none" height="10" style="stroke:#181818;stroke-width:1.0;" width="15" x="2387" y="556.3983"/><rect fill="none" height="2" style="stroke:#181818;stroke-width:1.0;" width="4" x="2385" y="558.3983"/><rect fill="none" height="2" style="stroke:#181818;stroke-width:1.0;" width="4" x="2385" y="562.3983"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="115" x="2196.5" y="577.9334">Jobs messenger</text></g><!--MD5=[362b3201a801ee4f5f489d0ec22c45fd]
cluster Job--><g id="cluster_Job"><rect fill="none" height="307" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:1.0;" width="359" x="1718" y="551.3983"/><rect fill="none" height="10" style="stroke:#181818;stroke-width:1.0;" width="15" x="2057" y="556.3983"/><rect fill="none" height="2" style="stroke:#181818;stroke-width:1.0;" width="4" x="2055" y="558.3983"/><rect fill="none" height="2" style="stroke:#181818;stroke-width:1.0;" width="4" x="2055" y="562.3983"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="24" x="1885.5" y="577.9334">Job</text></g><!--MD5=[9b03a0499fe12bc2206d18f405e43a92]
cluster JobManager--><g id="cluster_JobManager"><rect fill="none" height="314" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:1.0;" width="416" x="1278" y="544.3983"/><rect fill="none" height="10" style="stroke:#181818;stroke-width:1.0;" width="15" x="1674" y="549.3983"/><rect fill="none" height="2" style="stroke:#181818;stroke-width:1.0;" width="4" x="1672" y="551.3983"/><rect fill="none" height="2" style="stroke:#181818;stroke-width:1.0;" width="4" x="1672" y="555.3983"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="85" x="1443.5" y="570.9334">JobManager</text></g><!--MD5=[f0e5ec498068439794d7c85d21923070]
cluster PipelinesRegistry--><g id="cluster_PipelinesRegistry"><rect fill="none" height="173" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:1.0;" width="1913" x="2984" y="716.3983"/><rect fill="none" height="10" style="stroke:#181818;stroke-width:1.0;" width="15" x="4877" y="721.3983"/><rect fill="none" height="2" style="stroke:#181818;stroke-width:1.0;" width="4" x="4875" y="723.3983"/><rect fill="none" height="2" style="stroke:#181818;stroke-width:1.0;" width="4" x="4875" y="727.3983"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="127" x="3877" y="742.9334">Pipelines registry</text></g><!--MD5=[ee0a2cbe723844ddb5703f8d707eabca]
cluster PipelineConsumer--><g id="cluster_PipelineConsumer"><rect fill="none" height="106" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:1.0;" width="690" x="4183" y="759.3983"/><rect fill="none" height="10" style="stroke:#181818;stroke-width:1.0;" width="15" x="4853" y="764.3983"/><rect fill="none" height="2" style="stroke:#181818;stroke-width:1.0;" width="4" x="4851" y="766.3983"/><rect fill="none" height="2" style="stroke:#181818;stroke-width:1.0;" width="4" x="4851" y="770.3983"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="110" x="4473" y="785.9334">Pipeline broker</text></g><!--MD5=[a2bd2b4a246a1e7c3fa5250a1267512c]
cluster PipelineMessenger--><g id="cluster_PipelineMessenger"><rect fill="none" height="92" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:1.0;" width="315" x="3844" y="766.3983"/><rect fill="none" height="10" style="stroke:#181818;stroke-width:1.0;" width="15" x="4139" y="771.3983"/><rect fill="none" height="2" style="stroke:#181818;stroke-width:1.0;" width="4" x="4137" y="773.3983"/><rect fill="none" height="2" style="stroke:#181818;stroke-width:1.0;" width="4" x="4137" y="777.3983"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="141" x="3931" y="792.9334">Pipeline messenger</text></g><!--MD5=[921cf52a18d9c9bb7dbea23d32bdf57d]
cluster PipelineManager--><g id="cluster_PipelineManager"><rect fill="none" height="106" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:1.0;" width="812" x="3008" y="759.3983"/><rect fill="none" height="10" style="stroke:#181818;stroke-width:1.0;" width="15" x="3800" y="764.3983"/><rect fill="none" height="2" style="stroke:#181818;stroke-width:1.0;" width="4" x="3798" y="766.3983"/><rect fill="none" height="2" style="stroke:#181818;stroke-width:1.0;" width="4" x="3798" y="770.3983"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="133" x="3347.5" y="785.9334">Pipelines manager</text></g><!--MD5=[815249f79c2c08157ac02b3106e03757]
cluster Database--><g id="cluster_Database"><path d="M1022,287.3983 C1022,277.3983 1126,277.3983 1126,277.3983 C1126,277.3983 1230,277.3983 1230,287.3983 L1230,861.3983 C1230,871.3983 1126,871.3983 1126,871.3983 C1126,871.3983 1022,871.3983 1022,861.3983 L1022,287.3983 " fill="none" style="stroke:#181818;stroke-width:1.0;"/><path d="M1022,287.3983 C1022,297.3983 1126,297.3983 1126,297.3983 C1126,297.3983 1230,297.3983 1230,287.3983 " fill="none" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="170" x="1041" y="312.9334">CI/CD System database</text></g><!--MD5=[4ad9cb087788f30dedc7140689871359]
entity gitPush--><g id="elem_gitPush"><rect fill="#F1F1F1" height="36.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="77" x="753.5" y="152.3983"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="57" x="763.5" y="175.9334">Git push</text></g><!--MD5=[334535c8caf24868f431c3ca74eae879]
entity defaultBranchMerge--><g id="elem_defaultBranchMerge"><rect fill="#F1F1F1" height="36.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="335" x="383.5" y="152.3983"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="315" x="393.5" y="175.9334">Merging another branch to the default branch</text></g><!--MD5=[c6e17134d83f1a13bc8ba2e108807f25]
entity httpRequest--><g id="elem_httpRequest"><rect fill="#F1F1F1" height="36.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="325" x="23.5" y="152.3983"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="305" x="33.5" y="175.9334">Http request to pipeline add / retry endpoint</text></g><!--MD5=[913d485718de16ea5995b9f9ba894345]
entity AMQPProxy--><g id="elem_AMQPProxy"><rect fill="#F1F1F1" height="46.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="226" x="5034" y="593.3983"/><path d="M5109.3333,593.3983 L5109.3333,598.3983 L5102.3333,605.3983 L5034,605.3983 " fill="none" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="186" x="5049" y="626.9334">AMQP / MQTT Proxy server</text></g><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="28" x="938" y="149.4452">http</text><rect fill="#F1F1F1" height="12" style="stroke:#181818;stroke-width:1.5;" width="12" x="946" y="164.3983"/><!--MD5=[b56a7e8b1b027cc69c3915f7a8084e75]
entity HttpTriggerListener--><g id="elem_HttpTriggerListener"><rect fill="#F1F1F1" height="46.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="174" x="4465" y="362.3983"/><rect fill="#F1F1F1" height="10" style="stroke:#181818;stroke-width:0.5;" width="15" x="4619" y="367.3983"/><rect fill="#F1F1F1" height="2" style="stroke:#181818;stroke-width:0.5;" width="4" x="4617" y="369.3983"/><rect fill="#F1F1F1" height="2" style="stroke:#181818;stroke-width:0.5;" width="4" x="4617" y="373.3983"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="134" x="4480" y="395.9334">HttpTriggerListener</text></g><!--MD5=[9c59030d101f913bcfa86715f9de3acd]
entity RequestMessage--><g id="elem_RequestMessage"><rect fill="#F1F1F1" height="22.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="134" x="4812" y="374.3983"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="114" x="4822" y="390.9334">RequestMessage</text></g><!--MD5=[18e892860c33de49c3aaf6989d467a19]
entity RequestExecution--><g id="elem_RequestExecution"><rect fill="#F1F1F1" height="36.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="143" x="4241.5" y="367.3983"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="123" x="4251.5" y="390.9334">RequestExecution</text></g><!--MD5=[70c9e65ced9d0278c60d8f15d676f4b8]
entity ExecutionEnded--><g id="elem_ExecutionEnded"><rect fill="#F1F1F1" height="22.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="131" x="4053.5" y="374.3983"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="111" x="4063.5" y="390.9334">ExecutionEnded</text></g><!--MD5=[f79046ea2ea149d083209f20f21a844f]
entity Runners--><g id="elem_Runners"><rect fill="#F1F1F1" height="32.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="150" x="3529" y="371.3983"/><rect fill="#F1F1F1" height="32.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="150" x="3525" y="367.3983"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="134" x="3533" y="388.9334">Runners collections</text></g><!--MD5=[61314421ae333595e3052adba1018d08]
entity RunnersQueue--><g id="elem_RunnersQueue"><path d="M3719,372.3983 L3831,372.3983 C3836,372.3983 3836,385.6424 3836,385.6424 C3836,385.6424 3836,398.8866 3831,398.8866 L3719,398.8866 C3714,398.8866 3714,385.6424 3714,385.6424 C3714,385.6424 3714,372.3983 3719,372.3983 " fill="#F1F1F1" style="stroke:#181818;stroke-width:0.5;"/><path d="M3831,372.3983 C3826,372.3983 3826,385.6424 3826,385.6424 C3826,398.8866 3831,398.8866 3831,398.8866 " fill="none" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="102" x="3719" y="390.9334">RunnersQueue</text></g><!--MD5=[951d3c4fe4c2f5ccbfe34fb14c240e8e]
entity RegisterRunner--><g id="elem_RegisterRunner"><rect fill="#F1F1F1" height="22.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="126" x="3871" y="374.3983"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="106" x="3881" y="390.9334">RegisterRunner</text></g><!--MD5=[d6a479cd9974e7ee14cdcfcf776e17a8]
entity DeleteRunner--><g id="elem_DeleteRunner"><rect fill="#F1F1F1" height="22.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="113" x="3545.5" y="605.3983"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="93" x="3555.5" y="621.9334">DeleteRunner</text></g><!--MD5=[b39ba1a4d5d3c0c122fcbd43b45a7ec8]
entity VerifyRunner--><g id="elem_VerifyRunner"><rect fill="#F1F1F1" height="22.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="109" x="3693.5" y="605.3983"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="89" x="3703.5" y="621.9334">VerifyRunner</text></g><!--MD5=[14ac463b3df30e9832f0c49bbf0f2801]
entity ExecuteJob--><g id="elem_ExecuteJob"><rect fill="#F1F1F1" height="22.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="96" x="3373" y="374.3983"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="76" x="3383" y="390.9334">ExecuteJob</text></g><!--MD5=[b805911d19da6d8c7d64bd19a86b7379]
entity RunnerQueueProcessor--><g id="elem_RunnerQueueProcessor"><rect fill="#F1F1F1" height="46.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="169" x="3168.5" y="362.3983"/><rect fill="#F1F1F1" height="10" style="stroke:#181818;stroke-width:0.5;" width="15" x="3317.5" y="367.3983"/><rect fill="#F1F1F1" height="2" style="stroke:#181818;stroke-width:0.5;" width="4" x="3315.5" y="369.3983"/><rect fill="#F1F1F1" height="2" style="stroke:#181818;stroke-width:0.5;" width="4" x="3315.5" y="373.3983"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="129" x="3183.5" y="395.9334">Runners processor</text></g><!--MD5=[91c3f03b08b0e8c0d335faf83a3e67cd]
entity JobRequestListener--><g id="elem_JobRequestListener"><rect fill="#F1F1F1" height="36.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="151" x="2663.5" y="598.3983"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="131" x="2673.5" y="621.9334">JobRequestListener</text></g><!--MD5=[21adf0f61c086dbfce88be6ff3485da9]
entity JobCancellationListener--><g id="elem_JobCancellationListener"><rect fill="#F1F1F1" height="36.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="181" x="2447.5" y="598.3983"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="161" x="2457.5" y="621.9334">JobCancellationListener</text></g><!--MD5=[6801bc541c1fd8aa3a4e2b501ca11742]
entity MarkJobFished--><g id="elem_MarkJobFished"><rect fill="#F1F1F1" height="22.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="121" x="2269.5" y="605.3983"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="101" x="2279.5" y="621.9334">MarkJobFished</text></g><!--MD5=[f97cbb15b6d047b77fe8bcfd69fd79ca]
entity MarkJobFailed--><g id="elem_MarkJobFailed"><rect fill="#F1F1F1" height="22.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="117" x="2117.5" y="605.3983"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="97" x="2127.5" y="621.9334">MarkJobFailed</text></g><!--MD5=[bf647fb7d7a8f5fc0d65f2c8446ee8fe]
entity PrePipelineExecution--><g id="elem_PrePipelineExecution"><rect fill="#F1F1F1" height="22.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="164" x="1734" y="605.3983"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="144" x="1744" y="621.9334">PrePipelineExecution</text></g><!--MD5=[bb8f3753084ee91ad20ccfeb262536f6]
entity ExecutePipeline--><g id="elem_ExecutePipeline"><rect fill="#F1F1F1" height="22.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="128" x="1933" y="605.3983"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="108" x="1943" y="621.9334">ExecutePipeline</text></g><!--MD5=[78c348dab04d890171090903f23d4ecb]
entity PostPipelineExecution--><g id="elem_PostPipelineExecution"><rect fill="#F1F1F1" height="22.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="171" x="1734.5" y="820.3983"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="151" x="1744.5" y="836.9334">PostPipelineExecution</text></g><!--MD5=[5a189b71c0586509f28b6ca9e13a06ed]
entity Jobs--><g id="elem_Jobs"><rect fill="#F1F1F1" height="32.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="115" x="1298.5" y="602.3983"/><rect fill="#F1F1F1" height="32.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="115" x="1294.5" y="598.3983"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="99" x="1302.5" y="619.9334">Jobs collection</text></g><!--MD5=[c0fff563259802bb9606cb0e9ed85eee]
entity JobsQueue--><g id="elem_JobsQueue"><path d="M1454,603.3983 L1540,603.3983 C1545,603.3983 1545,616.6424 1545,616.6424 C1545,616.6424 1545,629.8866 1540,629.8866 L1454,629.8866 C1449,629.8866 1449,616.6424 1449,616.6424 C1449,616.6424 1449,603.3983 1454,603.3983 " fill="#F1F1F1" style="stroke:#181818;stroke-width:0.5;"/><path d="M1540,603.3983 C1535,603.3983 1535,616.6424 1535,616.6424 C1535,629.8866 1540,629.8866 1540,629.8866 " fill="none" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="76" x="1454" y="621.9334">Jobs queue</text></g><!--MD5=[919d0393382bb00216a91df4926c287a]
entity JobRequest--><g id="elem_JobRequest"><rect fill="#F1F1F1" height="22.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="97" x="1580.5" y="605.3983"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="77" x="1590.5" y="621.9334">JobRequest</text></g><!--MD5=[bf95e194fbcd1879a53eb44ae200d332]
entity JobUpdate--><g id="elem_JobUpdate"><rect fill="#F1F1F1" height="22.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="91" x="1308.5" y="820.3983"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="71" x="1318.5" y="836.9334">JobUpdate</text></g><!--MD5=[06396da64fb478d984ea6001e201d245]
entity CancelJob--><g id="elem_CancelJob"><rect fill="#F1F1F1" height="22.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="88" x="1435" y="820.3983"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="68" x="1445" y="836.9334">CancelJob</text></g><!--MD5=[ecbaf8607b54336be1389e8b84cce917]
entity PipelineRegistrationListener--><g id="elem_PipelineRegistrationListener"><rect fill="#F1F1F1" height="36.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="211" x="4645.5" y="813.3983"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="191" x="4655.5" y="836.9334">PipelineRegistrationListener</text></g><!--MD5=[d7ddd67b58bd45bb635acae62041f58c]
entity PipelineRetryListener--><g id="elem_PipelineRetryListener"><rect fill="#F1F1F1" height="36.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="163" x="4447.5" y="813.3983"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="143" x="4457.5" y="836.9334">PipelineRetryListener</text></g><!--MD5=[0757160b0d4302d3281dcdc9c9eb1351]
entity PipelineCancellationListener--><g id="elem_PipelineCancellationListener"><rect fill="#F1F1F1" height="36.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="213" x="4199.5" y="813.3983"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="193" x="4209.5" y="836.9334">PipelineCancellationListener</text></g><!--MD5=[cd56617724b4bc18c61581f9b114ef92]
entity PipelineFinished--><g id="elem_PipelineFinished"><rect fill="#F1F1F1" height="22.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="132" x="4011" y="820.3983"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="112" x="4021" y="836.9334">PipelineFinished</text></g><!--MD5=[dbed3cc8e1027e75f0fde1f2fe740b24]
entity PipelineFailed--><g id="elem_PipelineFailed"><rect fill="#F1F1F1" height="22.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="115" x="3860.5" y="820.3983"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="95" x="3870.5" y="836.9334">PipelineFailed</text></g><!--MD5=[ac4c6336ffa270a276aeaea8de436096]
entity RegisterPipeline--><g id="elem_RegisterPipeline"><rect fill="#F1F1F1" height="22.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="130" x="3324" y="820.3983"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="110" x="3334" y="836.9334">RegisterPipeline</text></g><!--MD5=[34259f16ae15897cf764d546c740c5fe]
entity RetryPipeline--><g id="elem_RetryPipeline"><rect fill="#F1F1F1" height="22.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="109" x="3179.5" y="820.3983"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="89" x="3189.5" y="836.9334">RetryPipeline</text></g><!--MD5=[56d4204012d8ebe9da3cbb231f698bd6]
entity CancelPipeline--><g id="elem_CancelPipeline"><rect fill="#F1F1F1" height="22.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="120" x="3024" y="820.3983"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="100" x="3034" y="836.9334">CancelPipeline</text></g><!--MD5=[f6a31a6d023db7f797776a40b27cd8cb]
entity Pipelines--><g id="elem_Pipelines"><rect fill="#F1F1F1" height="32.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="147" x="3493.5" y="817.3983"/><rect fill="#F1F1F1" height="32.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="147" x="3489.5" y="813.3983"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="131" x="3497.5" y="834.9334">Pipelines collection</text></g><!--MD5=[6a60d58548b08abbb55294babea4b237]
entity PipelineQueue--><g id="elem_PipelineQueue"><path d="M3681,818.3983 L3799,818.3983 C3804,818.3983 3804,831.6424 3804,831.6424 C3804,831.6424 3804,844.8866 3799,844.8866 L3681,844.8866 C3676,844.8866 3676,831.6424 3676,831.6424 C3676,831.6424 3676,818.3983 3681,818.3983 " fill="#F1F1F1" style="stroke:#181818;stroke-width:0.5;"/><path d="M3799,818.3983 C3794,818.3983 3794,831.6424 3794,831.6424 C3794,844.8866 3799,844.8866 3799,844.8866 " fill="none" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="108" x="3681" y="836.9334">Pipelines queue</text></g><!--MD5=[60a7d49912a5e26523681947c411f52d]
entity pipeline--><g id="elem_pipeline"><ellipse cx="1185" cy="823.3983" fill="#F1F1F1" rx="12" ry="12" style="stroke:#181818;stroke-width:0.5;"/><line style="stroke:#181818;stroke-width:0.5;" x1="1173" x2="1197" y1="837.3983" y2="837.3983"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="55" x="1157.5" y="852.9334">pipeline</text></g><!--MD5=[a9fdbcd7a6cbc124882de1da71397e01]
entity runner--><g id="elem_runner"><ellipse cx="1190" cy="377.3983" fill="#F1F1F1" rx="12" ry="12" style="stroke:#181818;stroke-width:0.5;"/><line style="stroke:#181818;stroke-width:0.5;" x1="1178" x2="1202" y1="391.3983" y2="391.3983"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="47" x="1166.5" y="406.9334">runner</text></g><!--MD5=[713b73db6f10ca464231664cf9910668]
entity job--><g id="elem_job"><ellipse cx="1195" cy="608.3983" fill="#F1F1F1" rx="12" ry="12" style="stroke:#181818;stroke-width:0.5;"/><line style="stroke:#181818;stroke-width:0.5;" x1="1183" x2="1207" y1="622.3983" y2="622.3983"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="22" x="1184" y="637.9334">job</text></g><!--MD5=[89717f7b0ce17b618de64952eb7e30f0]
entity configuration--><g id="elem_configuration"><ellipse cx="1085" cy="377.3983" fill="#F1F1F1" rx="12" ry="12" style="stroke:#181818;stroke-width:0.5;"/><line style="stroke:#181818;stroke-width:0.5;" x1="1073" x2="1097" y1="391.3983" y2="391.3983"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="93" x="1038.5" y="406.9334">configuration</text></g><!--MD5=[7ba322a77c3e1af982914e05611d919c]
link gitPush to http--><g id="link_gitPush_http"><path d="M830.73,170.3983 C866.1,170.3983 916.29,170.3983 939.43,170.3983 " fill="none" id="gitPush-to-http" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="944.18,170.3983,935.18,166.3983,939.18,170.3983,935.18,174.3983,944.18,170.3983" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="79" x="848.75" y="163.9666">Http request</text></g><!--MD5=[2d6dfdee5ac41fe1176de854fb031fa8]
link defaultBranchMerge to http--><g id="link_defaultBranchMerge_http"><path d="M578.14,151.9083 C634.64,115.8683 768.3,43.4883 872.5,87.8183 C906.54,102.2983 933.06,139.2883 945.04,158.4683 " fill="none" id="defaultBranchMerge-to-http" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="947.62,162.7183,946.3573,152.9507,945.0203,158.4473,939.5237,157.1103,947.62,162.7183" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="79" x="792.5" y="78.9666">Http request</text></g><!--MD5=[5228d94b832b212008d7d530e9e680bf]
link httpRequest to http--><g id="link_httpRequest_http"><path d="M217.19,151.9183 C252.07,132.3683 310.93,102.6883 366,90.3983 C470.32,67.1283 745.89,55.7383 847,90.3983 C887.82,104.3883 925.4,141.0783 942.42,159.5083 " fill="none" id="httpRequest-to-http" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="945.64,163.0683,942.5547,153.7152,942.2802,159.3653,936.63,159.0908,945.64,163.0683" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="79" x="491.5" y="78.9666">Http request</text></g><!--MD5=[ef8ddeaa032bbca06a77e47b2ff22da3]
link http to HttpTriggerListener--><g id="link_http_HttpTriggerListener"><path d="M958.22,171.4083 C1116.12,171.5683 4227.73,175.6383 4401,245.3983 C4456.77,267.8483 4504.63,321.0983 4530.77,354.7883 " fill="none" id="http-to-HttpTriggerListener" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="4535.4,360.8683,4532.9385,352.6865,4528.1657,356.3225,4535.4,360.8683" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="84" x="4367" y="233.9666">HTTP request</text></g><!--MD5=[e4072604d6ec4c2e3e4366adad6d7b53]
link HttpTriggerListener to HttpTriggerMessenger--><g id="link_HttpTriggerListener_HttpTriggerMessenger"><path d="M4639.31,385.3983 C4668.96,385.3983 4701.0675,385.3983 4726.8137,385.3983 C4739.6869,385.3983 4750.9697,385.3983 4759.5598,385.3983 C4761.7074,385.3983 4763.6866,385.3983 4765.4804,385.3983 C4766.3772,385.3983 4767.2277,385.3983 4768.0297,385.3983 C4768.2302,385.3983 4768.4276,385.3983 4768.622,385.3983 C4768.7192,385.3983 4768.8156,385.3983 4768.9113,385.3983 " fill="none" id="HttpTriggerListener-to-HttpTriggerMessenger" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="4768.9113,385.3983,4759.9113,381.3983,4763.9113,385.3983,4759.9113,389.3983,4768.9113,385.3983" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="101" x="4657.32" y="378.9666">Signal of trigger</text></g><!--MD5=[dbbaccce421a8e3f975f11e22518d953]
link HttpTriggerMessenger to AMQPProxy--><g id="link_HttpTriggerMessenger_AMQPProxy"><path d="M4779.3206,420.4905 C4779.3423,420.6117 4779.3643,420.733 4779.3864,420.8545 C4779.7403,422.7975 4780.1422,424.7683 4780.5984,426.7515 C4781.5107,430.7177 4782.6398,434.7329 4784.0353,438.6722 C4786.8263,446.5508 4790.6825,454.1258 4796,460.3983 C4854.38,529.2683 4949.32,568.6583 5025.75,590.4783 " fill="none" id="HttpTriggerMessenger-to-AMQPProxy" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="5033.04,592.5183,5026.1459,587.4714,5024.5273,593.249,5033.04,592.5183" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="212" x="4818" y="481.9666">Send message to register pipeline</text></g><!--MD5=[45d4550f39280d17b8c834d4481b3810]
link AMQPProxy to PipelineRegistrationListener--><g id="link_AMQPProxy_PipelineRegistrationListener"><path d="M5105.37,639.7883 C5028.98,680.8783 4867.34,767.8183 4791.67,808.5183 " fill="none" id="AMQPProxy-to-PipelineRegistrationListener" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="4784.65,812.2983,4793.1179,811.1602,4790.2816,805.8729,4784.65,812.2983" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="105" x="5019" y="696.9666">Register pipeline</text></g><!--MD5=[69a2cff23bdbf88b0a3b7eaf72f39cf7]
link PipelineRegistrationListener to RegisterPipeline--><g id="link_PipelineRegistrationListener_RegisterPipeline"><path d="M4739.74,812.9183 C4718.94,780.8283 4671.04,715.9383 4610.5,691.8983 C4581.56,680.4083 3518.44,680.4083 3489.5,691.8983 C3437.49,712.5483 3407.75,777.7783 3395.56,811.2083 " fill="none" id="PipelineRegistrationListener-to-RegisterPipeline" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="3392.96,818.6783,3398.4217,812.1079,3392.7547,810.1367,3392.96,818.6783" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[f6e23d27e20e90e8413308f761beb3c3]
link RegisterPipeline to pipeline--><g id="link_RegisterPipeline_pipeline"><path d="M3385.41,820.1183 C3375.18,790.3283 3342.72,710.2483 3282.67,686.3983 C3257.09,676.2383 1326.91,676.2383 1301.33,686.3983 C1249.8,706.8583 1215.04,765.1683 1197.75,801.3083 " fill="none" id="RegisterPipeline-to-pipeline" style="stroke:#181818;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#181818" points="1195.77,805.5383,1203.2018,799.0755,1197.8852,801.0077,1195.9529,795.6911,1195.77,805.5383" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[4a3234fbdc3f7723206e991fca5d249f]
link RegisterPipeline to Pipelines--><g id="link_RegisterPipeline_Pipelines"><path d="M3454.31,831.3983 C3463.89,831.3983 3473.47,831.3983 3483.04,831.3983 " fill="none" id="RegisterPipeline-to-Pipelines" style="stroke:#181818;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#181818" points="3487.82,831.3983,3478.82,827.3983,3482.82,831.3983,3478.82,835.3983,3487.82,831.3983" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[28496b64388520264e98a64917dc7532]
link Pipelines to PipelineQueue--><g id="link_Pipelines_PipelineQueue"><path d="M3640.88,831.3983 C3650.41,831.3983 3659.94,831.3983 3669.46,831.3983 " fill="none" id="Pipelines-to-PipelineQueue" style="stroke:#181818;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#181818" points="3674.21,831.3983,3665.21,827.3983,3669.21,831.3983,3665.21,835.3983,3674.21,831.3983" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[e5e7ad3e60af1737ce3ff9efe791f4fe]
link job to pipeline--><g id="link_job_pipeline"><path d="M1193.91,640.5983 C1191.99,681.4583 1188.03,765.8283 1186.1,806.8983 " fill="none" id="job-pipeline" style="stroke:#181818;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="28" x="1193" y="696.9666">1 : n</text></g><!--MD5=[c6fe76eae9605fd7d360cbaf0b004479]
link runner to job--><g id="link_runner_job"><path d="M1190.51,409.6183 C1191.47,453.5083 1193.53,548.1783 1194.49,592.1183 " fill="none" id="runner-job" style="stroke:#181818;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="20" x="1194" y="481.9666">n:n</text></g><!--MD5=[cfddde84b39017efc2f0473885535dd2]
link AMQPProxy to JobRequestListener--><g id="link_AMQPProxy_JobRequestListener"><path d="M5033.78,597.3483 C4767.72,555.0283 4081.85,460.1083 3509,502.3183 C3258.27,520.7883 2965.3,572.6583 2823.91,599.6383 " fill="none" id="AMQPProxy-to-JobRequestListener" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="2816.3,601.0883,2824.7232,602.5201,2823.5877,596.6285,2816.3,601.0883" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="320" x="2815" y="481.9666">Requests for job to be run with specific pipeline ID</text></g><!--MD5=[33c977a9aa21b994cd4d30bd362e189f]
link JobRequestListener to job--><g id="link_JobRequestListener_job"><path d="M2730.71,598.3183 C2717.29,571.5083 2688.01,522.2683 2646,502.3183 C2577.35,469.7083 1345.73,467.8383 1278,502.3183 C1243.56,519.8483 1220.05,559.1083 1207.07,586.6483 " fill="none" id="JobRequestListener-to-job" style="stroke:#181818;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#181818" points="1205.09,590.9583,1212.4804,584.4481,1207.1762,586.4143,1205.21,581.1102,1205.09,590.9583" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="244" x="1819" y="481.9666">Creates a job with specific pipeline idx</text></g><rect fill="#DDDDDD" height="290.3008" id="_legend" rx="7.5" ry="7.5" style="stroke:#000000;stroke-width:1.0;" width="593" x="2329.5" y="930.3983"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="59" x="2334.5" y="948.9334">Naming:</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="459" x="2334.5" y="965.4217">Runner - Single executor to run a job and trigger registry changes.</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="441" x="2334.5" y="981.91">Job - Single job with pipeline execution and eg. logs processing.</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="426" x="2334.5" y="998.3983">Pipeline - Instructions steps to be executed within a single job</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="490" x="2334.5" y="1014.8866">Broker - AMQP consumer - receiving data from AMQP message channel</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="488" x="2334.5" y="1031.3748">Messenger - AMQP producer - sending data to AMQP message channel</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4" x="2334.5" y="1047.8631"> </text><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="185" x="2334.5" y="1064.3514">Hierarchy awareness note</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4" x="2519.5" y="1064.3514">:</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="471" x="2334.5" y="1080.8397">To specify awareness for each domain we can specify their hierarchy:</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="67" x="2334.5" y="1097.328">1. Runner</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="39" x="2334.5" y="1113.8162">2. Job</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="71" x="2334.5" y="1130.3045">3. Pipeline</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4" x="2334.5" y="1146.7928"> </text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="583" x="2334.5" y="1163.2811">Each of domains will be aware of one domain member lower in the hierarchy tree, so:</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="13" x="2334.5" y="1179.7694">1.</text><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="51" x="2351.5" y="1179.7694">Runner</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="276" x="2406.5" y="1179.7694">is only aware of job it's going to execute</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="13" x="2334.5" y="1196.2577">2.</text><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="24" x="2351.5" y="1196.2577">Job</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="389" x="2379.5" y="1196.2577">is aware of pipeline which will be a part of the execution.</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="13" x="2334.5" y="1212.7459">3.</text><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="58" x="2351.5" y="1212.7459">Pipeline</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="230" x="2413.5" y="1212.7459">is not aware of any other domain.</text><!--MD5=[beb30451781686f2951a00b16cb56c24]
@startuml ci-cd-system-architecture-scheme

title CI/CD system architecture scheme

frame HttpPipelineTriggers as "HTTP Pipeline triggers" {
  agent gitPush as "Git push"
  agent defaultBranchMerge as "Merging another branch to the default branch"
  agent httpRequest as "Http request to pipeline add / retry endpoint"
}

frame AMQPProxy as "AMQP / MQTT Proxy server" {

}

frame CiCDSystem as "CI/CD System"{
    port http as "http"

    component TriggerListener as "Pipeline triggers listeners" {
        component HttpTriggerListener
        component HttpTriggerMessenger {
            card RequestMessage
        }
    }

    component RunnersRegistry  as "Runners registry" {
        component RunnerConsumer as "Runner broker" {
            agent RequestExecution
        }

        component RunnerProducer as "Runner messenger" {
            card ExecutionEnded
        }

        component RunnersManager as "Runners manager" {
            collections Runners as "Runners collections"
            queue RunnersQueue as "RunnersQueue"

            card RegisterRunner
            card DeleteRunner
            card VerifyRunner
        }

        component Runner {
            card ExecuteJob
        }

        component RunnerQueueProcessor as "Runners processor" {

        }
    }

    component JobsRegistry as "Jobs registry" {
        component  JobConsumer as "Jobs broker" {
            agent JobRequestListener
            agent JobCancellationListener
        }

        component JobProducer as "Jobs messenger" {
            card MarkJobFished
            card MarkJobFailed
        }

        component Job {
            card PrePipelineExecution
            card ExecutePipeline
            card PostPipelineExecution
        }

        component JobManager {
            collections Jobs as "Jobs collection"
            queue JobsQueue as "Jobs queue"

            card JobRequest
            card JobUpdate
            card CancelJob
        }
    }

    component PipelinesRegistry as "Pipelines registry" {
        component  PipelineConsumer as "Pipeline broker" {
            agent PipelineRegistrationListener
            agent PipelineRetryListener
            agent PipelineCancellationListener
        }

        component PipelineMessenger as "Pipeline messenger" {
            card PipelineFinished
            card PipelineFailed
        }

        component PipelineManager as "Pipelines manager" {
            card RegisterPipeline
            card RetryPipeline
            card CancelPipeline
            collections Pipelines as "Pipelines collection"
            queue PipelineQueue as "Pipelines queue"
        }
    }

    database Database as "CI/CD System database" {
        entity pipeline
        entity runner
        entity job
        entity configuration
    }
}

gitPush -> http: Http request
defaultBranchMerge -> http: Http request
httpRequest -> http: Http request

http->>HttpTriggerListener: HTTP request
HttpTriggerListener->HttpTriggerMessenger: Signal of trigger
HttpTriggerMessenger->>AMQPProxy: Send message to register pipeline
AMQPProxy->>PipelineRegistrationListener: Register pipeline
PipelineRegistrationListener->>RegisterPipeline
RegisterPipeline.>pipeline
RegisterPipeline.>Pipelines
Pipelines.>PipelineQueue

job .. pipeline: 1 : n
runner .. job: n:n
AMQPProxy->>JobRequestListener: Requests for job to be run with specific pipeline ID
JobRequestListener.>job: Creates a job with specific pipeline idx

legend
**Naming:**
Runner - Single executor to run a job and trigger registry changes.
Job - Single job with pipeline execution and eg. logs processing.
Pipeline - Instructions steps to be executed within a single job
Broker - AMQP consumer - receiving data from AMQP message channel
Messenger - AMQP producer - sending data to AMQP message channel

**Hierarchy awareness note**:
To specify awareness for each domain we can specify their hierarchy:
1. Runner
2. Job
3. Pipeline

Each of domains will be aware of one domain member lower in the hierarchy tree, so:
1. **Runner** is only aware of job it's going to execute
2. **Job** is aware of pipeline which will be a part of the execution.
3. **Pipeline** is not aware of any other domain.
endlegend
@enduml

PlantUML version 1.2022.13(Sat Nov 19 14:22:17 CET 2022)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: pl
Country: PL
--></g></svg>